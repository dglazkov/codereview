<!DOCTYPE html>
<html>
  <head>
    <script src="../third_party/polymer-all/polymer/polymer.js"></script>
    <link rel="import" href="../components/rietveld.html">
  </head>
  <body>
    <polymer-element name="rietveld-test-diffviewer">
      <template>
        <polymer-ajax
            auto
            url="data/example.diff"
            on-polymer-response="diffLoadSucceeded">
        </polymer-ajax>
        <button on-click="toggleIt">bbb</button>
        <rietveld-diffview id="diff2" diff="{{ diff }}" mode="side-by-side"></rietveld-diffview>
      </template>
      <script>
      Polymer('rietveld-test-diffviewer', {
        diffLoadSucceeded: function(event) {
          this.diff = event.detail.response;
        },
        toggleIt: function() {
          if (this.$.diff2.mode == 'unified')
            this.$.diff2.mode = 'side-by-side';
          else
            this.$.diff2.mode = 'unified';
        }
      });
      </script>
    </polymer-element>
    <rietveld-test-diffviewer></rietveld-test-diffviewer>
  </body>
</html>
